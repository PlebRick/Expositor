(function(){"use strict";var k=Uint8Array,K=Uint16Array,wr=Int32Array,ur=new k([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hr=new k([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),sr=new k([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Br=function(r,e){for(var n=new K(31),a=0;a<31;++a)n[a]=e+=1<<r[a-1];for(var f=new wr(n[30]),a=1;a<30;++a)for(var v=n[a];v<n[a+1];++v)f[v]=v-n[a]<<5|a;return{b:n,r:f}},Ur=Br(ur,2),Dr=Ur.b,xr=Ur.r;Dr[28]=258,xr[258]=28;for(var Or=Br(hr,0),Pr=Or.b,Ir=Or.r,Mr=new K(32768),y=0;y<32768;++y){var p=(y&43690)>>1|(y&21845)<<1;p=(p&52428)>>2|(p&13107)<<2,p=(p&61680)>>4|(p&3855)<<4,Mr[y]=((p&65280)>>8|(p&255)<<8)>>1}for(var X=function(r,e,n){for(var a=r.length,f=0,v=new K(e);f<a;++f)r[f]&&++v[r[f]-1];var l=new K(e);for(f=1;f<e;++f)l[f]=l[f-1]+v[f-1]<<1;var u;if(n){u=new K(1<<e);var t=15-e;for(f=0;f<a;++f)if(r[f])for(var c=f<<4|r[f],i=e-r[f],o=l[r[f]-1]++<<i,h=o|(1<<i)-1;o<=h;++o)u[Mr[o]>>t]=c}else for(u=new K(a),f=0;f<a;++f)r[f]&&(u[f]=Mr[l[r[f]-1]++]>>15-r[f]);return u},b=new k(288),y=0;y<144;++y)b[y]=8;for(var y=144;y<256;++y)b[y]=9;for(var y=256;y<280;++y)b[y]=7;for(var y=280;y<288;++y)b[y]=8;for(var ar=new k(32),y=0;y<32;++y)ar[y]=5;var Qr=X(b,9,0),Rr=X(b,9,1),Vr=X(ar,5,0),Wr=X(ar,5,1),yr=function(r){for(var e=r[0],n=1;n<r.length;++n)r[n]>e&&(e=r[n]);return e},V=function(r,e,n){var a=e/8|0;return(r[a]|r[a+1]<<8)>>(e&7)&n},Cr=function(r,e){var n=e/8|0;return(r[n]|r[n+1]<<8|r[n+2]<<16)>>(e&7)},kr=function(r){return(r+7)/8|0},fr=function(r,e,n){return(e==null||e<0)&&(e=0),(n==null||n>r.length)&&(n=r.length),new k(r.subarray(e,n))},Xr=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Y=function(r,e,n){var a=new Error(e||Xr[r]);if(a.code=r,Error.captureStackTrace&&Error.captureStackTrace(a,Y),!n)throw a;return a},Zr=function(r,e,n,a){var f=r.length,v=a?a.length:0;if(!f||e.f&&!e.l)return n||new k(0);var l=!n,u=l||e.i!=2,t=e.i;l&&(n=new k(f*3));var c=function(ir){var tr=n.length;if(ir>tr){var nr=new k(Math.max(tr*2,ir));nr.set(n),n=nr}},i=e.f||0,o=e.p||0,h=e.b||0,w=e.l,M=e.d,x=e.m,C=e.n,j=f*8;do{if(!w){i=V(r,o,1);var q=V(r,o+1,3);if(o+=3,q)if(q==1)w=Rr,M=Wr,x=9,C=5;else if(q==2){var U=V(r,o,31)+257,F=V(r,o+10,15)+4,s=U+V(r,o+5,31)+1;o+=14;for(var g=new k(s),D=new k(19),T=0;T<F;++T)D[sr[T]]=V(r,o+T*3,7);o+=F*3;for(var H=yr(D),d=(1<<H)-1,N=X(D,H,1),T=0;T<s;){var G=N[V(r,o,d)];o+=G&15;var m=G>>4;if(m<16)g[T++]=m;else{var O=0,S=0;for(m==16?(S=3+V(r,o,3),o+=2,O=g[T-1]):m==17?(S=3+V(r,o,7),o+=3):m==18&&(S=11+V(r,o,127),o+=7);S--;)g[T++]=O}}var J=g.subarray(0,U),I=g.subarray(U);x=yr(J),C=yr(I),w=X(J,x,1),M=X(I,C,1)}else Y(1);else{var m=kr(o)+4,A=r[m-4]|r[m-3]<<8,E=m+A;if(E>f){t&&Y(0);break}u&&c(h+A),n.set(r.subarray(m,E),h),e.b=h+=A,e.p=o=E*8,e.f=i;continue}if(o>j){t&&Y(0);break}}u&&c(h+131072);for(var lr=(1<<x)-1,R=(1<<C)-1,_=o;;_=o){var O=w[Cr(r,o)&lr],P=O>>4;if(o+=O&15,o>j){t&&Y(0);break}if(O||Y(2),P<256)n[h++]=P;else if(P==256){_=o,w=null;break}else{var Q=P-254;if(P>264){var T=P-257,z=ur[T];Q=V(r,o,(1<<z)-1)+Dr[T],o+=z}var $=M[Cr(r,o)&R],rr=$>>4;$||Y(3),o+=$&15;var I=Pr[rr];if(rr>3){var z=hr[rr];I+=Cr(r,o)&(1<<z)-1,o+=z}if(o>j){t&&Y(0);break}u&&c(h+131072);var er=h+Q;if(h<I){var cr=v-I,gr=Math.min(I,er);for(cr+h<0&&Y(3);h<gr;++h)n[h]=a[cr+h]}for(;h<er;++h)n[h]=n[h-I]}}e.l=w,e.p=_,e.b=h,e.f=i,w&&(i=1,e.m=x,e.d=M,e.n=C)}while(!i);return h!=n.length&&l?fr(n,0,h):n.subarray(0,h)},L=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8},vr=function(r,e,n){n<<=e&7;var a=e/8|0;r[a]|=n,r[a+1]|=n>>8,r[a+2]|=n>>16},Sr=function(r,e){for(var n=[],a=0;a<r.length;++a)r[a]&&n.push({s:a,f:r[a]});var f=n.length,v=n.slice();if(!f)return{t:jr,l:0};if(f==1){var l=new k(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(E,U){return E.f-U.f}),n.push({s:-1,f:25001});var u=n[0],t=n[1],c=0,i=1,o=2;for(n[0]={s:-1,f:u.f+t.f,l:u,r:t};i!=f-1;)u=n[n[c].f<n[o].f?c++:o++],t=n[c!=i&&n[c].f<n[o].f?c++:o++],n[i++]={s:-1,f:u.f+t.f,l:u,r:t};for(var h=v[0].s,a=1;a<f;++a)v[a].s>h&&(h=v[a].s);var w=new K(h+1),M=zr(n[i-1],w,0);if(M>e){var a=0,x=0,C=M-e,j=1<<C;for(v.sort(function(U,F){return w[F.s]-w[U.s]||U.f-F.f});a<f;++a){var q=v[a].s;if(w[q]>e)x+=j-(1<<M-w[q]),w[q]=e;else break}for(x>>=C;x>0;){var m=v[a].s;w[m]<e?x-=1<<e-w[m]++-1:++a}for(;a>=0&&x;--a){var A=v[a].s;w[A]==e&&(--w[A],++x)}M=e}return{t:new k(w),l:M}},zr=function(r,e,n){return r.s==-1?Math.max(zr(r.l,e,n+1),zr(r.r,e,n+1)):e[r.s]=n},qr=function(r){for(var e=r.length;e&&!r[--e];);for(var n=new K(++e),a=0,f=r[0],v=1,l=function(t){n[a++]=t},u=1;u<=e;++u)if(r[u]==f&&u!=e)++v;else{if(!f&&v>2){for(;v>138;v-=138)l(32754);v>2&&(l(v>10?v-11<<5|28690:v-3<<5|12305),v=0)}else if(v>3){for(l(f),--v;v>6;v-=6)l(8304);v>2&&(l(v-3<<5|8208),v=0)}for(;v--;)l(f);v=1,f=r[u]}return{c:n.subarray(0,a),n:e}},or=function(r,e){for(var n=0,a=0;a<e.length;++a)n+=r[a]*e[a];return n},Hr=function(r,e,n){var a=n.length,f=kr(e+2);r[f]=a&255,r[f+1]=a>>8,r[f+2]=r[f]^255,r[f+3]=r[f+1]^255;for(var v=0;v<a;++v)r[f+v+4]=n[v];return(f+4+a)*8},Yr=function(r,e,n,a,f,v,l,u,t,c,i){L(e,i++,n),++f[256];for(var o=Sr(f,15),h=o.t,w=o.l,M=Sr(v,15),x=M.t,C=M.l,j=qr(h),q=j.c,m=j.n,A=qr(x),E=A.c,U=A.n,F=new K(19),s=0;s<q.length;++s)++F[q[s]&31];for(var s=0;s<E.length;++s)++F[E[s]&31];for(var g=Sr(F,7),D=g.t,T=g.l,H=19;H>4&&!D[sr[H-1]];--H);var d=c+5<<3,N=or(f,b)+or(v,ar)+l,G=or(f,h)+or(v,x)+l+14+3*H+or(F,D)+2*F[16]+3*F[17]+7*F[18];if(t>=0&&d<=N&&d<=G)return Hr(e,i,r.subarray(t,t+c));var O,S,J,I;if(L(e,i,1+(G<N)),i+=2,G<N){O=X(h,w,0),S=h,J=X(x,C,0),I=x;var lr=X(D,T,0);L(e,i,m-257),L(e,i+5,U-1),L(e,i+10,H-4),i+=14;for(var s=0;s<H;++s)L(e,i+3*s,D[sr[s]]);i+=3*H;for(var R=[q,E],_=0;_<2;++_)for(var P=R[_],s=0;s<P.length;++s){var Q=P[s]&31;L(e,i,lr[Q]),i+=D[Q],Q>15&&(L(e,i,P[s]>>5&127),i+=P[s]>>12)}}else O=Qr,S=b,J=Vr,I=ar;for(var s=0;s<u;++s){var z=a[s];if(z>255){var Q=z>>18&31;vr(e,i,O[Q+257]),i+=S[Q+257],Q>7&&(L(e,i,z>>23&31),i+=ur[Q]);var $=z&31;vr(e,i,J[$]),i+=I[$],$>3&&(vr(e,i,z>>5&8191),i+=hr[$])}else vr(e,i,O[z]),i+=S[z]}return vr(e,i,O[256]),i+S[256]},$r=new wr([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jr=new k(0),Lr=function(r,e,n,a,f,v){var l=v.z||r.length,u=new k(a+l+5*(1+Math.ceil(l/7e3))+f),t=u.subarray(a,u.length-f),c=v.l,i=(v.r||0)&7;if(e){i&&(t[0]=v.r>>3);for(var o=$r[e-1],h=o>>13,w=o&8191,M=(1<<n)-1,x=v.p||new K(32768),C=v.h||new K(M+1),j=Math.ceil(n/3),q=2*j,m=function(Er){return(r[Er]^r[Er+1]<<j^r[Er+2]<<q)&M},A=new wr(25e3),E=new K(288),U=new K(32),F=0,s=0,g=v.i||0,D=0,T=v.w||0,H=0;g+2<l;++g){var d=m(g),N=g&32767,G=C[d];if(x[N]=G,C[d]=N,T<=g){var O=l-g;if((F>7e3||D>24576)&&(O>423||!c)){i=Yr(r,t,0,A,E,U,s,D,H,g-H,i),D=F=s=0,H=g;for(var S=0;S<286;++S)E[S]=0;for(var S=0;S<30;++S)U[S]=0}var J=2,I=0,lr=w,R=N-G&32767;if(O>2&&d==m(g-R))for(var _=Math.min(h,O)-1,P=Math.min(32767,g),Q=Math.min(258,O);R<=P&&--lr&&N!=G;){if(r[g+J]==r[g+J-R]){for(var z=0;z<Q&&r[g+z]==r[g+z-R];++z);if(z>J){if(J=z,I=R,z>_)break;for(var $=Math.min(R,z-2),rr=0,S=0;S<$;++S){var er=g-R+S&32767,cr=x[er],gr=er-cr&32767;gr>rr&&(rr=gr,G=er)}}}N=G,G=x[N],R+=N-G&32767}if(I){A[D++]=268435456|xr[J]<<18|Ir[I];var ir=xr[J]&31,tr=Ir[I]&31;s+=ur[ir]+hr[tr],++E[257+ir],++U[tr],T=g+J,++F}else A[D++]=r[g],++E[r[g]]}}for(g=Math.max(g,T);g<l;++g)A[D++]=r[g],++E[r[g]];i=Yr(r,t,c,A,E,U,s,D,H,g-H,i),c||(v.r=i&7|t[i/8|0]<<3,i-=7,v.h=C,v.p=x,v.i=g,v.w=T)}else{for(var g=v.w||0;g<l+c;g+=65535){var nr=g+65535;nr>=l&&(t[i/8|0]=c,nr=l),i=Hr(t,i+1,r.subarray(g,nr))}v.i=l}return fr(u,0,a+kr(i)+f)},_r=function(){for(var r=new Int32Array(256),e=0;e<256;++e){for(var n=e,a=9;--a;)n=(n&1&&-306674912)^n>>>1;r[e]=n}return r}(),pr=function(){var r=-1;return{p:function(e){for(var n=r,a=0;a<e.length;++a)n=_r[n&255^e[a]]^n>>>8;r=n},d:function(){return~r}}},br=function(r,e,n,a,f){if(!f&&(f={l:1},e.dictionary)){var v=e.dictionary.subarray(-32768),l=new k(v.length+r.length);l.set(v),l.set(r,v.length),r=l,f.w=v.length}return Lr(r,e.level==null?6:e.level,e.mem==null?f.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,n,a,f)},Gr=function(r,e){var n={};for(var a in r)n[a]=r[a];for(var a in e)n[a]=e[a];return n},Z=function(r,e){return r[e]|r[e+1]<<8},W=function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},mr=function(r,e){return W(r,e)+W(r,e+4)*4294967296},B=function(r,e,n){for(;n;++e)r[e]=n,n>>>=8};function dr(r,e){return br(r,e||{},0,0)}function re(r,e){return Zr(r,{i:2},e&&e.out,e&&e.dictionary)}var Jr=function(r,e,n,a){for(var f in r){var v=r[f],l=e+f,u=a;Array.isArray(v)&&(u=Gr(a,v[1]),v=v[0]),v instanceof k?n[l]=[v,u]:(n[l+="/"]=[new k(0),u],Jr(v,l,n,a))}},Kr=typeof TextEncoder<"u"&&new TextEncoder,Ar=typeof TextDecoder<"u"&&new TextDecoder,ee=0;try{Ar.decode(jr,{stream:!0}),ee=1}catch{}var ne=function(r){for(var e="",n=0;;){var a=r[n++],f=(a>127)+(a>223)+(a>239);if(n+f>r.length)return{s:e,r:fr(r,n-1)};f?f==3?(a=((a&15)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,e+=String.fromCharCode(55296|a>>10,56320|a&1023)):f&1?e+=String.fromCharCode((a&31)<<6|r[n++]&63):e+=String.fromCharCode((a&15)<<12|(r[n++]&63)<<6|r[n++]&63):e+=String.fromCharCode(a)}};function Fr(r,e){var n;if(Kr)return Kr.encode(r);for(var a=r.length,f=new k(r.length+(r.length>>1)),v=0,l=function(c){f[v++]=c},n=0;n<a;++n){if(v+5>f.length){var u=new k(v+8+(a-n<<1));u.set(f),f=u}var t=r.charCodeAt(n);t<128||e?l(t):t<2048?(l(192|t>>6),l(128|t&63)):t>55295&&t<57344?(t=65536+(t&1047552)|r.charCodeAt(++n)&1023,l(240|t>>18),l(128|t>>12&63),l(128|t>>6&63),l(128|t&63)):(l(224|t>>12),l(128|t>>6&63),l(128|t&63))}return fr(f,0,v)}function ae(r,e){if(e){for(var n="",a=0;a<r.length;a+=16384)n+=String.fromCharCode.apply(null,r.subarray(a,a+16384));return n}else{if(Ar)return Ar.decode(r);var f=ne(r),v=f.s,n=f.r;return n.length&&Y(8),v}}var fe=function(r,e){return e+30+Z(r,e+26)+Z(r,e+28)},ve=function(r,e,n){var a=Z(r,e+28),f=ae(r.subarray(e+46,e+46+a),!(Z(r,e+8)&2048)),v=e+46+a,l=W(r,e+20),u=n&&l==4294967295?oe(r,v):[l,W(r,e+24),W(r,e+42)],t=u[0],c=u[1],i=u[2];return[Z(r,e+10),t,c,f,v+Z(r,e+30)+Z(r,e+32),i]},oe=function(r,e){for(;Z(r,e)!=1;e+=4+Z(r,e+2));return[mr(r,e+12),mr(r,e+4),mr(r,e+20)]},Tr=function(r){var e=0;if(r)for(var n in r){var a=r[n].length;a>65535&&Y(9),e+=a+4}return e},Nr=function(r,e,n,a,f,v,l,u){var t=a.length,c=n.extra,i=u&&u.length,o=Tr(c);B(r,e,l!=null?33639248:67324752),e+=4,l!=null&&(r[e++]=20,r[e++]=n.os),r[e]=20,e+=2,r[e++]=n.flag<<1|(v<0&&8),r[e++]=f&&8,r[e++]=n.compression&255,r[e++]=n.compression>>8;var h=new Date(n.mtime==null?Date.now():n.mtime),w=h.getFullYear()-1980;if((w<0||w>119)&&Y(10),B(r,e,w<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),e+=4,v!=-1&&(B(r,e,n.crc),B(r,e+4,v<0?-v-2:v),B(r,e+8,n.size)),B(r,e+12,t),B(r,e+14,o),e+=16,l!=null&&(B(r,e,i),B(r,e+6,n.attrs),B(r,e+10,l),e+=14),r.set(a,e),e+=t,o)for(var M in c){var x=c[M],C=x.length;B(r,e,+M),B(r,e+2,C),r.set(x,e+4),e+=4+C}return i&&(r.set(u,e),e+=i),e},le=function(r,e,n,a,f){B(r,e,101010256),B(r,e+8,n),B(r,e+10,n),B(r,e+12,a),B(r,e+16,f)};function ie(r,e){e||(e={});var n={},a=[];Jr(r,"",n,e);var f=0,v=0;for(var l in n){var u=n[l],t=u[0],c=u[1],i=c.level==0?0:8,o=Fr(l),h=o.length,w=c.comment,M=w&&Fr(w),x=M&&M.length,C=Tr(c.extra);h>65535&&Y(11);var j=i?dr(t,c):t,q=j.length,m=pr();m.p(t),a.push(Gr(c,{size:t.length,crc:m.d(),c:j,f:o,m:M,u:h!=l.length||M&&w.length!=x,o:f,compression:i})),f+=30+h+C+q,v+=76+2*(h+C)+(x||0)+q}for(var A=new k(v+22),E=f,U=v-f,F=0;F<a.length;++F){var o=a[F];Nr(A,o.o,o,o.f,o.u,o.c.length);var s=30+o.f.length+Tr(o.extra);A.set(o.c,o.o+s),Nr(A,f,o,o.f,o.u,o.c.length,o.o,o.m),f+=16+s+(o.m?o.m.length:0)}return le(A,f,a.length,U,E),A}function te(r,e){for(var n={},a=r.length-22;W(r,a)!=101010256;--a)(!a||r.length-a>65558)&&Y(13);var f=Z(r,a+8);if(!f)return{};var v=W(r,a+16),l=v==4294967295||f==65535;if(l){var u=W(r,a-12);l=W(r,u)==101075792,l&&(f=W(r,u+32),v=W(r,u+48))}for(var t=0;t<f;++t){var c=ve(r,v,l),i=c[0],o=c[1],h=c[2],w=c[3],M=c[4],x=c[5],C=fe(r,x);v=M,i?i==8?n[w]=re(r.subarray(C,C+o),{out:new k(h)}):Y(14,"unknown compression type "+i):n[w]=fr(r,C,C+o)}return n}self.onmessage=r=>{if(r.data.cmd==="zip"){const e=Object.fromEntries(Object.entries(r.data.files).map(([a,f])=>[a,Fr(f)])),n=ie(e,{level:9});self.postMessage({ok:!0,buffer:n},[n.buffer])}else if(r.data.cmd==="unzip")try{const e=te(r.data.buffer),n={};for(const[a,f]of Object.entries(e))n[a]=new TextDecoder().decode(f);self.postMessage({ok:!0,files:n})}catch{self.postMessage({ok:!1})}}})();
//# sourceMappingURL=zipWorker-C0fO-X3i.js.map
